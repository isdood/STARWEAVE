[1;31m----------

NOTICE:

You have tried to upgrade to asdf 0.16.0 or newer. Versions 0.16.0 is a
complete rewrite of asdf in Go. This text is being printed by the older
Bash implementation. If you are seeing this you have not migrated to
asdf 0.16.0. Please follow the instructions on the upgrade guide to
migrate to the new version.

Aside from this notice, this older Bash implementation works as it did
in asdf version 0.15.0 and older.

Migration guide: https://asdf-vm.com/guide/upgrading-to-v0-16
asdf website: https://asdf-vm.com
Source code: https://github.com/asdf-vm/asdf
[0m

[1;31m----------

NOTICE:

You have tried to upgrade to asdf 0.16.0 or newer. Versions 0.16.0 is a
complete rewrite of asdf in Go. This text is being printed by the older
Bash implementation. If you are seeing this you have not migrated to
asdf 0.16.0. Please follow the instructions on the upgrade guide to
migrate to the new version.

Aside from this notice, this older Bash implementation works as it did
in asdf version 0.15.0 and older.

Migration guide: https://asdf-vm.com/guide/upgrading-to-v0-16
asdf website: https://asdf-vm.com
Source code: https://github.com/asdf-vm/asdf
[0m


09:21:29.165 [notice] Protocol 'inet_tcp': the name starweave@127.0.0.1 seems to be in use by another Erlang node

==> starweave_core
     warning: variable "context" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 148 â”‚   def handle_cast({:store, context, key, value, ttl, importance}, %{degraded: true} = state) do
     â”‚                            ~~~~~~~
     â”‚
     â””â”€ (starweave_core 0.1.0) lib/starweave_core/intelligence/working_memory.ex:148:28: StarweaveCore.Intelligence.WorkingMemory.handle_cast/2

     warning: variable "importance" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 148 â”‚   def handle_cast({:store, context, key, value, ttl, importance}, %{degraded: true} = state) do
     â”‚                                                      ~~~~~~~~~~
     â”‚
     â””â”€ (starweave_core 0.1.0) lib/starweave_core/intelligence/working_memory.ex:148:54: StarweaveCore.Intelligence.WorkingMemory.handle_cast/2

     warning: variable "key" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 148 â”‚   def handle_cast({:store, context, key, value, ttl, importance}, %{degraded: true} = state) do
     â”‚                                     ~~~
     â”‚
     â””â”€ (starweave_core 0.1.0) lib/starweave_core/intelligence/working_memory.ex:148:37: StarweaveCore.Intelligence.WorkingMemory.handle_cast/2

     warning: variable "ttl" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 148 â”‚   def handle_cast({:store, context, key, value, ttl, importance}, %{degraded: true} = state) do
     â”‚                                                 ~~~
     â”‚
     â””â”€ (starweave_core 0.1.0) lib/starweave_core/intelligence/working_memory.ex:148:49: StarweaveCore.Intelligence.WorkingMemory.handle_cast/2

     warning: variable "value" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 148 â”‚   def handle_cast({:store, context, key, value, ttl, importance}, %{degraded: true} = state) do
     â”‚                                          ~~~~~
     â”‚
     â””â”€ (starweave_core 0.1.0) lib/starweave_core/intelligence/working_memory.ex:148:42: StarweaveCore.Intelligence.WorkingMemory.handle_cast/2

==> starweave_llm
    warning: StarweaveCore.Intelligence.WorkingMemory.clear_context/2 is undefined or private. Did you mean:

          * clear_context/1

    â”‚
 56 â”‚     with :ok <- WorkingMemory.clear_context(@context_key, user_id),
    â”‚                               ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:56:31: StarweaveLlm.Context.PersistentContext.clear_context/1

    warning: StarweaveCore.Intelligence.WorkingMemory.clear_context/2 is undefined or private. Did you mean:

          * clear_context/1

    â”‚
 57 â”‚          :ok <- WorkingMemory.clear_context(@sources_key, user_id) do
    â”‚                               ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:57:31: StarweaveLlm.Context.PersistentContext.clear_context/1

    warning: StarweaveCore.Intelligence.WorkingMemory.put/3 is undefined or private
    â”‚
 65 â”‚     WorkingMemory.put(@context_key, user_id, conversation)
    â”‚                   ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:65:19: StarweaveLlm.Context.PersistentContext.save_conversation/2

    warning: StarweaveCore.Intelligence.WorkingMemory.put/3 is undefined or private
    â”‚
 77 â”‚     WorkingMemory.put(@sources_key, user_id, sources)
    â”‚                   ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:77:19: StarweaveLlm.Context.PersistentContext.save_sources/2

    warning: StarweaveCore.Intelligence.WorkingMemory.get/2 is undefined or private
    â”‚
 69 â”‚     case WorkingMemory.get(@context_key, user_id) do
    â”‚                        ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:69:24: StarweaveLlm.Context.PersistentContext.load_conversation/1

    warning: StarweaveCore.Intelligence.WorkingMemory.get/2 is undefined or private
    â”‚
 81 â”‚     case WorkingMemory.get(@sources_key, user_id) do
    â”‚                        ~
    â”‚
    â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/context/persistent_context.ex:81:24: StarweaveLlm.Context.PersistentContext.load_sources/1

    warning: redefining @doc attribute previously set at line 35
    â”‚
 39 â”‚   @doc """
    â”‚   ~~~~~~~~
    â”‚
    â””â”€ lib/starweave_llm/context_manager.ex:39: StarweaveLlm.ContextManager (module)

    warning: unused alias LLMBehaviour
    â”‚
 11 â”‚   alias StarweaveLlm.LLM.LLMBehaviour
    â”‚   ~
    â”‚
    â””â”€ lib/starweave_llm/llm/query_intent.ex:11:3

     warning: variable "sources" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 113 â”‚       {:ok, response, sources} ->
     â”‚                       ~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/llm/query_service.ex:113:23: StarweaveLlm.LLM.QueryService.handle_call/3

     warning: defp determine_search_needed/3 is private, @doc attribute is always discarded for private functions/macros/types
     â”‚
 132 â”‚   @doc """
     â”‚   ~~~~~~~~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/llm/query_service.ex:132: StarweaveLlm.LLM.QueryService.determine_search_needed/3

     warning: defp generate_llm_response/4 is private, @doc attribute is always discarded for private functions/macros/types
     â”‚
 193 â”‚   @doc """
     â”‚   ~~~~~~~~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/llm/query_service.ex:193: StarweaveLlm.LLM.QueryService.generate_llm_response/4

    warning: unused alias PromptTemplates
    â”‚
 14 â”‚   alias StarweaveLlm.LLM.PromptTemplates
    â”‚   ~
    â”‚
    â””â”€ lib/starweave_llm/llm/query_service.ex:14:3

     warning: redefining @doc attribute previously set at line 106.

     Please remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:

         @doc """
         new docs
         """
         def load_template(...)

     â”‚
 153 â”‚   @doc """
     â”‚   ~~~~~~~~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/prompt/template.ex:153: StarweaveLlm.Prompt.Template.load_template/2

     warning: clauses with the same name and arity (number of arguments) should be grouped together, "def render_template/3" was previously defined (lib/starweave_llm/prompt/template.ex:100)
     â”‚
 204 â”‚   def render_template(name, namespace, variables) when (is_atom(namespace) or is_binary(namespace)) and is_map(variables) do
     â”‚       ~
     â”‚
     â””â”€ lib/starweave_llm/prompt/template.ex:204:7

     warning: redefining @doc attribute previously set at line 91.

     Please remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:

         @doc """
         new docs
         """
         def render_template(...)

     â”‚
 195 â”‚   @doc """
     â”‚   ~~~~~~~~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/prompt/template.ex:195: StarweaveLlm.Prompt.Template.render_template/3

     warning: clauses with the same name should be grouped together, "def render_template/2" was previously defined (lib/starweave_llm/prompt/template.ex:87)
     â”‚
 219 â”‚   def render_template(name, variables) when is_map(variables) do
     â”‚       ~
     â”‚
     â””â”€ lib/starweave_llm/prompt/template.ex:219:7

     warning: redefining @doc attribute previously set at line 78.

     Please remove the duplicate docs. If instead you want to override a previously defined @doc, attach the @doc attribute to a function head (the function signature not followed by any do-block). For example:

         @doc """
         new docs
         """
         def render_template(...)

     â”‚
 210 â”‚   @doc """
     â”‚   ~~~~~~~~
     â”‚
     â””â”€ (starweave_llm 0.1.0) lib/starweave_llm/prompt/template.ex:210: StarweaveLlm.Prompt.Template.render_template/2

==> starweave_web
warning: using map.field notation (without parentheses) to invoke function Starweave.PatternService.Service.__rpc_calls__() is deprecated, you must add parentheses instead: remote.function()
  lib/starweave_web/grpc/starweave.pb.ex:109: (module)
  (elixir 1.18.4) src/elixir_compiler.erl:77: :elixir_compiler.dispatch/4
  (elixir 1.18.4) src/elixir_compiler.erl:52: :elixir_compiler.compile/4
  (elixir 1.18.4) src/elixir_module.erl:456: :elixir_module.eval_form/7
  (elixir 1.18.4) src/elixir_module.erl:156: :elixir_module.compile/7

==> starweadev
dets: file "/home/isdood/STARWEAVE/priv/data/working_memory.dets" not properly closed, repairing ...
warning: Range.new/2 and first..last default to a step of -1 when last < first. Use Range.new(first, last, -1) or first..last//-1, or pass 1 if that was your intention
  (nx 0.7.3) lib/nx/shape.ex:1811: Nx.Shape.validate_dot_axes!/6
  (nx 0.7.3) lib/nx/shape.ex:1744: Nx.Shape.dot/8
  (nx 0.7.3) lib/nx.ex:12525: Nx.dot/6
  (axon 0.6.1) lib/axon/layers.ex:128: Axon.Layers."__defn:dense_impl__"/4
  (axon 0.6.1) lib/axon/compiler.ex:969: Axon.Compiler.apply_layer/6

There are no tests to run
==> starweave_core
Running ExUnit with seed: 979793, max_cases: 1


StarweaveCoreTest [test/starweave_core_test.exs]
  * test add/get pattern [L#12]
  * test add/get pattern (9.1ms) [L#12]

  1) test add/get pattern (StarweaveCoreTest)
     apps/starweave_core/test/starweave_core_test.exs:12
     ** (MatchError) no match of right hand side value: {:ok, %{data: "hello world", id: "p1", metadata: %{a: 1}, energy: 0.5}}
     code: %Pattern{id: "p1", data: "hello world", metadata: %{a: 1}} = StarweaveCore.get_pattern("p1")
     stacktrace:
       test/starweave_core_test.exs:14: (test)

  * test match exact and jaccard [L#24]
  * test match exact and jaccard (6.1ms) [L#24]

  2) test match exact and jaccard (StarweaveCoreTest)
     apps/starweave_core/test/starweave_core_test.exs:24
     Assertion with == failed
     code:  assert Enum.map(exact, & &1.id) == ["p1"]
     left:  []
     right: ["p1"]
     stacktrace:
       test/starweave_core_test.exs:29: (test)

  * test match contains [L#17]
  * test match contains (4.2ms) [L#17]

  3) test match contains (StarweaveCoreTest)
     apps/starweave_core/test/starweave_core_test.exs:17
     Assertion with == failed
     code:  assert Enum.map(results, & &1.id) == ["p1"]
     left:  []
     right: ["p1"]
     stacktrace:
       test/starweave_core_test.exs:21: (test)


StarweaveCore.Distributed.TaskDistributorTest [test/starweave_core/distributed/task_distributor_test.exs]
  * test submits and completes a basic task [L#36]
  * test submits and completes a basic task (1.4ms) [L#36]
  * test handles task failures [L#44]
  * test handles task failures (1.2ms) [L#44]

StarweaveCore.Pattern.ResonanceTest [test/pattern/resonance_test.exs]
  * test similarity/2 returns value between 0 and 1 for partial matches [L#78]
  * test similarity/2 returns value between 0 and 1 for partial matches (4.6ms) [L#78]
  * test update_energy/3 applies decay to non-matching patterns [L#54]
  * test update_energy/3 applies decay to non-matching patterns (1.2ms) [L#54]
  * test calculate_resonance/3 returns empty list when no patterns match threshold [L#7]
  * test calculate_resonance/3 returns empty list when no patterns match threshold (1.4ms) [L#7]
  * test similarity/2 returns 1.0 for identical patterns [L#67]
  * test similarity/2 returns 1.0 for identical patterns (1.6ms) [L#67]
  * test update_energy/3 adds new pattern with initial energy [L#35]
  * test update_energy/3 adds new pattern with initial energy (1.8ms) [L#35]
  * test update_energy/3 increases energy of similar patterns [L#43]
  * test update_energy/3 increases energy of similar patterns (1.8ms) [L#43]
  * test similarity/2 returns 0.0 for completely different patterns [L#72]
  * test similarity/2 returns 0.0 for completely different patterns (1.5ms) [L#72]
  * test calculate_resonance/3 returns matching patterns above threshold [L#17]
  * test calculate_resonance/3 returns matching patterns above threshold (1.5ms) [L#17]

StarweaveCore.Pattern.TemporalTest [test/pattern/temporal_test.exs]
  * test find_recurring_sequences/2 finds recurring sequences [L#53]
  * test find_recurring_sequences/2 finds recurring sequences (4.0ms) [L#53]
  * test detect_sequence/2 returns empty list for empty input [L#7]
  * test detect_sequence/2 returns empty list for empty input (1.0ms) [L#7]
  * test find_recurring_sequences/2 respects minimum sequence length [L#71]
  * test find_recurring_sequences/2 respects minimum sequence length (0.5ms) [L#71]
  * test detect_sequence/2 respects window size [L#26]
  * test detect_sequence/2 respects window size (0.2ms) [L#26]
  * test analyze_relationship/2 analyzes temporal relationship between patterns [L#40]
  * test analyze_relationship/2 analyzes temporal relationship between patterns (0.2ms) [L#40]
  * test detect_sequence/2 detects sequences in ordered patterns [L#11]
  * test detect_sequence/2 detects sequences in ordered patterns (0.1ms) [L#11]

StarweaveCore.Pattern.EvolutionTest [test/pattern/evolution_test.exs]
  * test split_large/2 splits large patterns into smaller ones [L#61]
  * test split_large/2 splits large patterns into smaller ones (1.3ms) [L#61]
  * test evolve/3 adds new pattern when no similar patterns exist [L#7]
  * test evolve/3 adds new pattern when no similar patterns exist (0.2ms) [L#7]
  * test split_large/2 does not split small, coherent patterns [L#72]
  * test split_large/2 does not split small, coherent patterns (0.3ms) [L#72]
  * test merge_similar/2 merges identical patterns [L#35]
  * test merge_similar/2 merges identical patterns (0.2ms) [L#35]
  * test merge_similar/2 does not merge dissimilar patterns [L#48]
  * test merge_similar/2 does not merge dissimilar patterns (0.1ms) [L#48]
  * test update_pattern_metadata/2 updates metadata for matched pattern [L#85]
  * test update_pattern_metadata/2 updates metadata for matched pattern (0.1ms) [L#85]
  * test evolve/3 merges similar patterns when similarity is above threshold [L#19]
  * test evolve/3 merges similar patterns when similarity is above threshold (0.1ms) [L#19]

StarweaveCore.Distributed.SimpleTaskTest [test/starweave_core/distributed/simple_task_test.exs]
  * test runs a simple task [L#4]
  * test runs a simple task (101.1ms) [L#4]

StarweaveCore.Distributed.TaskCheckpointTest [test/starweave_core/distributed/task_checkpoint_test.exs]
  * test saves and retrieves checkpoints [L#18]
  * test saves and retrieves checkpoints (0.1ms) [L#18]
  * test handles multiple checkpoints for different tasks [L#33]
  * test handles multiple checkpoints for different tasks (0.1ms) [L#33]
  * test returns :not_found for non-existent checkpoints [L#29]
  * test returns :not_found for non-existent checkpoints (0.1ms) [L#29]

StarweaveCore.Distributed.PatternProcessorTest [test/starweave_core/distributed/pattern_processor_test.exs]
  * test processes a pattern and returns started [L#34]
  * test processes a pattern and returns started (55.1ms) [L#34]

  4) test processes a pattern and returns started (StarweaveCore.Distributed.PatternProcessorTest)
     apps/starweave_core/test/starweave_core/distributed/pattern_processor_test.exs:34
     match (=) failed
     code:  assert {:ok, :started} = PatternProcessor.process_pattern("test-pattern", name: name)
     left:  {:ok, :started}
     right: {:error, :no_such_processor}
     stacktrace:
       test/starweave_core/distributed/pattern_processor_test.exs:42: (test)

  * test handles task timeout [L#65]
  * test handles task timeout (48.5ms) [L#65]

  5) test handles task timeout (StarweaveCore.Distributed.PatternProcessorTest)
     apps/starweave_core/test/starweave_core/distributed/pattern_processor_test.exs:65
     match (=) failed
     code:  assert {:ok, :started} = PatternProcessor.process_pattern("test-pattern", name: name)
     left:  {:ok, :started}
     right: {:error, :no_such_processor}
     stacktrace:
       test/starweave_core/distributed/pattern_processor_test.exs:74: (test)

  * test handles task completion [L#45]
  * test handles task completion (48.9ms) [L#45]

  6) test handles task completion (StarweaveCore.Distributed.PatternProcessorTest)
     apps/starweave_core/test/starweave_core/distributed/pattern_processor_test.exs:45
     match (=) failed
     code:  assert {:ok, :started} = PatternProcessor.process_pattern("test-pattern", name: name)
     left:  {:ok, :started}
     right: {:error, :no_such_processor}
     stacktrace:
       test/starweave_core/distributed/pattern_processor_test.exs:59: (test)


StarweaveCore.Distributed.TaskSupervisorTest [test/starweave_core/distributed/task_supervisor_test.exs]
  * test starts a supervised task [L#42]
  * test starts a supervised task (0.6ms) [L#42]
  * test handles task failures with max retry attempts [L#62]
  * test handles task failures with max retry attempts (626.1ms) [L#62]

StarweaveCore.Intelligence.WorkingMemoryTest [test/starweave_core/intelligence/working_memory_test.exs]
  * test context operations clears all memories in a context [L#49]
  * test context operations clears all memories in a context (2.0ms) [L#49]
  * test basic memory operations stores and retrieves a value [L#22]
  * test basic memory operations stores and retrieves a value (0.3ms) [L#22]
  * test search functionality finds memories by search query [L#60]
  * test search functionality finds memories by search query (0.6ms) [L#60]
  * test basic memory operations forgets a stored value [L#31]
  * test basic memory operations forgets a stored value (0.3ms) [L#31]
  * test context operations retrieves all memories for a context [L#39]
  * test context operations retrieves all memories for a context (0.3ms) [L#39]
  * test persistence with ETS maintains state across process restarts [L#82]
  * test persistence with ETS maintains state across process restarts (100.9ms) [L#82]
  * test basic memory operations returns :not_found for non-existent key [L#27]
  * test basic memory operations returns :not_found for non-existent key (0.6ms) [L#27]

StarweaveCore.Distributed.NodeDiscoveryTest [test/starweave_core/distributed/node_discovery_test.exs]
  * test node registration registers a new node [L#31]
  * test node registration registers a new node (0.2ms) [L#31]
  * test node cleanup removes dead nodes after timeout [L#42]
  * test node cleanup removes dead nodes after timeout (0.1ms) [L#42]
  * test node registration returns empty list when no nodes are registered [L#36]
  * test node registration returns empty list when no nodes are registered (0.1ms) [L#36]

StarweaveCore.Distributed.TaskRecoveryTest [test/starweave_core/distributed/task_recovery_test.exs]
  * test handles successful task completion without retries [L#50]
  * test handles successful task completion without retries (313.5ms) [L#50]
  * test handles task failure with max retry attempts [L#132]
  * test handles task failure with max retry attempts (1134.8ms) [L#132]
  * test stops retrying after max attempts [L#86]
  * test stops retrying after max attempts (1134.9ms) [L#86]

StarweaveCore.Distributed.TaskDistributorIntegrationTest [test/starweave_core/distributed/task_distributor_integration_test.exs]
  * test submits and completes a basic task [L#29]
  * test submits and completes a basic task (0.00ms) [L#29]

  7) test submits and completes a basic task (StarweaveCore.Distributed.TaskDistributorIntegrationTest)
     apps/starweave_core/test/starweave_core/distributed/task_distributor_integration_test.exs:29
     ** (EXIT from #PID<0.1059.0>) an exception was raised:
         ** (ArgumentError) errors were found at the given arguments:

       * 1st argument: not an atom

             (erts 15.2.7) :erlang.whereis(#PID<0.1063.0>)
             (elixir 1.18.4) lib/process.ex:772: Process.whereis/1
             (starweave_core 0.1.0) lib/starweave_core/distributed/task_distributor.ex:134: StarweaveCore.Distributed.TaskDistributor.init/1
             (stdlib 6.2.2) gen_server.erl:2229: :gen_server.init_it/2
             (stdlib 6.2.2) gen_server.erl:2184: :gen_server.init_it/6
             (stdlib 6.2.2) proc_lib.erl:329: :proc_lib.init_p_do_apply/3

  * test returns task status [L#94]
  * test returns task status (0.00ms) [L#94]

  8) test returns task status (StarweaveCore.Distributed.TaskDistributorIntegrationTest)
     apps/starweave_core/test/starweave_core/distributed/task_distributor_integration_test.exs:94
     ** (EXIT from #PID<0.1066.0>) an exception was raised:
         ** (ArgumentError) errors were found at the given arguments:

       * 1st argument: not an atom

             (erts 15.2.7) :erlang.whereis(#PID<0.1073.0>)
             (elixir 1.18.4) lib/process.ex:772: Process.whereis/1
             (starweave_core 0.1.0) lib/starweave_core/distributed/task_distributor.ex:134: StarweaveCore.Distributed.TaskDistributor.init/1
             (stdlib 6.2.2) gen_server.erl:2229: :gen_server.init_it/2
             (stdlib 6.2.2) gen_server.erl:2184: :gen_server.init_it/6
             (stdlib 6.2.2) proc_lib.erl:329: :proc_lib.init_p_do_apply/3

  * test handles task failures [L#67]
  * test handles task failures (0.00ms) [L#67]

  9) test handles task failures (StarweaveCore.Distributed.TaskDistributorIntegrationTest)
     apps/starweave_core/test/starweave_core/distributed/task_distributor_integration_test.exs:67
     ** (EXIT from #PID<0.1076.0>) an exception was raised:
         ** (ArgumentError) errors were found at the given arguments:

       * 1st argument: not an atom

             (erts 15.2.7) :erlang.whereis(#PID<0.1083.0>)
             (elixir 1.18.4) lib/process.ex:772: Process.whereis/1
             (starweave_core 0.1.0) lib/starweave_core/distributed/task_distributor.ex:134: StarweaveCore.Distributed.TaskDistributor.init/1
             (stdlib 6.2.2) gen_server.erl:2229: :gen_server.init_it/2
             (stdlib 6.2.2) gen_server.erl:2184: :gen_server.init_it/6
             (stdlib 6.2.2) proc_lib.erl:329: :proc_lib.init_p_do_apply/3


Finished in 3.6 seconds (0.09s async, 3.5s sync)
51 tests, 9 failures
==> starweave_llm
     warning: redefining module HTTPoison.Base (current version loaded from /home/isdood/STARWEAVE/_build/test/lib/httpoison/ebin/Elixir.HTTPoison.Base.beam)
     â”‚
 491 â”‚     Module.create(name, [info | body], Macro.Env.location(__ENV__))
     â”‚     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     â”‚
     â””â”€ /home/isdood/STARWEAVE/deps/mox/lib/mox.ex:491: HTTPoison.Base (module)

     warning: module HTTPoison.Base is not a behaviour (in module HTTPoison.Base)
     â”‚
 491 â”‚     Module.create(name, [info | body], Macro.Env.location(__ENV__))
     â”‚     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     â”‚
     â””â”€ /home/isdood/STARWEAVE/deps/mox/lib/mox.ex:491: HTTPoison.Base (module)

Running ExUnit with seed: 979793, max_cases: 1

    warning: unused import ExUnit.CaptureLog
    â”‚
  4 â”‚   import ExUnit.CaptureLog
    â”‚   ~
    â”‚
    â””â”€ test/ollama_stream_test.exs:4:3

    warning: unused import ExUnit.CaptureLog
    â”‚
  4 â”‚   import ExUnit.CaptureLog
    â”‚   ~
    â”‚
    â””â”€ test/streaming_test.exs:4:3


StarweaveLlm.LLM.ComplexQueryParserTest [test/starweave_llm/llm/complex_query_parser_test.exs]
  * test parse_intent/1 identifies search intent [L#40]    warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_call/3" was previously defined (test/starweave_llm/llm/query_service_bm25_test.exs:61)
    â”‚
 82 â”‚     def handle_call({:bm25_search, query, _opts}, _from, %{documents: docs, document_terms: doc_terms, avg_doc_length: avg_len} = state) do
    â”‚         ~
    â”‚
    â””â”€ test/starweave_llm/llm/query_service_bm25_test.exs:82:9

     warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_call/3" was previously defined (test/starweave_llm/llm/query_service_bm25_test.exs:61)
     â”‚
 133 â”‚     def handle_call({:hybrid_search, query, opts}, _from, state) do
     â”‚         ~
     â”‚
     â””â”€ test/starweave_llm/llm/query_service_bm25_test.exs:133:9


  * test parse_intent/1 identifies search intent (9.0ms) [L#40]
  * test parse/1 parses simple query [L#6]
  * test parse/1 parses simple query (1.4ms) [L#6]
  * test parse_intent/1 identifies explain intent [L#45]
  * test parse_intent/1 identifies explain intent (1.7ms) [L#45]
  * test parse/1 handles conjunctions [L#20]
  * test parse/1 handles conjunctions (1.0ms) [L#20]
  * test parse/1 handles then as a separator [L#29]
  * test parse/1 handles then as a separator (1.4ms) [L#29]
  * test parse_intent/1 defaults to search intent [L#50]
  * test parse_intent/1 defaults to search intent (2.5ms) [L#50]
  * test parse/1 parses query with multiple intents [L#11]
  * test parse/1 parses query with multiple intents (1.9ms) [L#11]

StarweaveLlm.TextAnalysis.TFIDFTest [test/starweave_llm/text_analysis/tfidf_test.exs]
  * test cosine_similarity/2 calculates similarity between two vectors [L#70]
  * test cosine_similarity/2 calculates similarity between two vectors (2.9ms) [L#70]
  * test tokenize/1 splits text into tokens [L#13]
  * test tokenize/1 splits text into tokens (1.8ms) [L#13]
  * test integration with text processing end-to-end search example [L#89]
  * test integration with text processing end-to-end search example (3.1ms) [L#89]
  * test tf_idf/3 calculates TF-IDF scores for a document [L#25]
  * test tf_idf/3 calculates TF-IDF scores for a document (1.2ms) [L#25]
  * test bm25/4 ranks documents by relevance to query [L#41]     warning: variable "query_service" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 204 â”‚     setup %{query_service: query_service} do
     â”‚                            ~~~~~~~~~~~~~
     â”‚
     â””â”€ test/starweave_llm/llm/query_service_bm25_test.exs:204:28: StarweaveLlm.LLM.QueryServiceBM25Test.__ex_unit_setup_0_0/1

     warning: variable "query_service" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 284 â”‚     setup %{query_service: query_service} do
     â”‚                            ~~~~~~~~~~~~~
     â”‚
     â””â”€ test/starweave_llm/llm/query_service_bm25_test.exs:284:28: StarweaveLlm.LLM.QueryServiceBM25Test.__ex_unit_setup_1_0/1


  * test bm25/4 ranks documents by relevance to query (1.2ms) [L#41]
  * test tokenize/1 handles code-like text [L#18]
  * test tokenize/1 handles code-like text (2.2ms) [L#18]

StarweaveLlm.Prompt.TemplateTest [test/starweave_llm/prompt/template_test.exs]
  * test validate_template/1 extracts variables from template [L#75]
  * test validate_template/1 extracts variables from template (2.4ms) [L#75]
  * test get_latest_version/1 gets latest version of existing template [L#108]
  * test get_latest_version/1 gets latest version of existing template (0.6ms) [L#108]
  * test validate_template/1 handles templates with whitespace in variables [L#91]
  * test validate_template/1 handles templates with whitespace in variables (0.5ms) [L#91]
  * test load_template/2 handles missing template file [L#68]
  * test load_template/2 handles missing template file (0.5ms) [L#68]
  * test render_template/3 loads and renders template by name [L#44]
  * test render_template/3 loads and renders template by name (6.6ms) [L#44]
  * test validate_template/1 handles duplicate variables [L#99]
  * test validate_template/1 handles duplicate variables (0.5ms) [L#99]
  * test render/2 renders template with variables [L#6]
  * test render/2 renders template with variables (0.8ms) [L#6]
  * test get_latest_version/1 handles template with no versions [L#114]
  * test get_latest_version/1 handles template with no versions (0.6ms) [L#114]
  * test render_template/3 handles template loading errors [L#53]
  * test render_template/3 handles template loading errors (0.6ms) [L#53]
  * test render/2 handles empty variables [L#20]
  * test render/2 handles empty variables (0.4ms) [L#20]
  * test render/2 handles complex variable interpolation [L#27]
  * test render/2 handles complex variable interpolation (0.7ms) [L#27]
  * test validate_template/1 handles templates with no variables [L#84]
  * test validate_template/1 handles templates with no variables (0.5ms) [L#84]
  * test load_template/2 loads existing template [L#62]
  * test load_template/2 loads existing template (0.4ms) [L#62]
  * test render/2 handles missing variables gracefully [L#13]
  * test render/2 handles missing variables gracefully (0.4ms) [L#13]

StarweaveLlm.MemoryIntegrationTest [test/starweave_llm/memory_integration_test.exs]
  * test update_memory_energy/2 updates memory energy [L#179]    warning: module attribute @mock_embedder was set but never used
    â”‚
 11 â”‚   @mock_embedder StarweaveLlm.MockBertEmbedder
    â”‚   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    â”‚
    â””â”€ test/starweave_llm/llm/query_service_bm25_test.exs:11: StarweaveLlm.LLM.QueryServiceBM25Test (module)


  * test update_memory_energy/2 updates memory energy (6.8ms) [L#179]
  * test search_memories/2 performs comprehensive memory search [L#198]
  * test search_memories/2 performs comprehensive memory search (3.1ms) [L#198]
  * test store_memory/2 stores memory with custom metadata [L#162]
  * test store_memory/2 stores memory with custom metadata (2.8ms) [L#162]
  * test consolidate_memories/1 handles single memory [L#98]
  * test consolidate_memories/1 handles single memory (1.6ms) [L#98]
  * test search_memories/2 respects search options [L#225]
  * test search_memories/2 respects search options (3.5ms) [L#225]
  * test retrieve_memories/1 retrieves relevant memories based on query [L#14]
  * test retrieve_memories/1 retrieves relevant memories based on query (2.8ms) [L#14]
  * test consolidate_memories/1 consolidates multiple memories by relevance [L#111]
  * test consolidate_memories/1 consolidates multiple memories by relevance (2.2ms) [L#111]
  * test retrieve_memories/1 filters by minimum relevance [L#70]
  * test retrieve_memories/1 filters by minimum relevance (4.9ms) [L#70]
  * test consolidate_memories/1 handles empty memory list [L#93]
  * test consolidate_memories/1 handles empty memory list (2.1ms) [L#93]
  * test update_memory_energy/2 handles non-existent memory [L#191]
  * test update_memory_energy/2 handles non-existent memory (3.6ms) [L#191]
  * test store_memory/2 stores memory with default metadata [L#154]
  * test store_memory/2 stores memory with default metadata (3.9ms) [L#154]
  * test retrieve_memories/1 respects limit parameter [L#47]
  * test retrieve_memories/1 respects limit parameter (5.0ms) [L#47]

StarweaveLlm.ContextManagerTest [test/starweave_llm/context_manager_test.exs]
  * test get_compressed_context/1 returns compressed context when over token limit [L#103]
  * test get_compressed_context/1 returns compressed context when over token limit (9.6ms) [L#103]
  * test clear/1 clears conversation while preserving settings [L#137]
  * test clear/1 clears conversation while preserving settings (0.7ms) [L#137]
  * test estimate_tokens/1 estimates tokens for long text [L#124]
  * test estimate_tokens/1 estimates tokens for long text (0.8ms) [L#124]
  * test get_compressed_context/1 returns normal context when under token limit [L#93]
  * test get_compressed_context/1 returns normal context when under token limit (0.2ms) [L#93]
  * test add_message/3 trims history when exceeding max_history [L#51]
  * test add_message/3 trims history when exceeding max_history (0.2ms) [L#51]
  * test estimate_tokens/1 handles empty string [L#130]
  * test estimate_tokens/1 handles empty string (0.1ms) [L#130]
  * test new/1 creates context manager with default settings [L#6]
  * test new/1 creates context manager with default settings (0.1ms) [L#6]
  * test get_context/1 returns formatted conversation context [L#70]
  * test get_context/1 returns formatted conversation context (0.1ms) [L#70]
  * test add_message/3 adds user message and updates token count [L#25]
  * test add_message/3 adds user message and updates token count (0.2ms) [L#25]
  * test add_message/3 adds multiple messages and tracks token count [L#39]
  * test add_message/3 adds multiple messages and tracks token count (0.1ms) [L#39]
  * test estimate_tokens/1 estimates tokens for short text [L#119]
  * test estimate_tokens/1 estimates tokens for short text (0.1ms) [L#119]
  * test get_token_count/1 returns current token count [L#83]
  * test get_token_count/1 returns current token count (0.1ms) [L#83]
  * test new/1 creates context manager with custom settings [L#15]
  * test new/1 creates context manager with custom settings (0.1ms) [L#15]

StarweaveLlm.LLM.QueryIntentTest [test/starweave_llm/llm/query_intent_test.exs]
  * test detect/2 uses LLM for complex queries when enabled [L#73]
  * test detect/2 uses LLM for complex queries when enabled (1.2ms) [L#73]
  * test detect/2 detects code explanation patterns without LLM calls [L#15]
  * test detect/2 detects code explanation patterns without LLM calls (0.4ms) [L#15]
  * test detect/2 falls back to knowledge base on LLM failure [L#90]
  * test detect/2 falls back to knowledge base on LLM failure (0.3ms) [L#90]
  * test detect/2 detects knowledge base patterns without LLM calls [L#43]
  * test detect/2 detects knowledge base patterns without LLM calls (0.5ms) [L#43]
  * test detect/2 returns knowledge base for non-matching patterns when LLM is disabled [L#59]
  * test detect/2 returns knowledge base for non-matching patterns when LLM is disabled (0.2ms) [L#59]
  * test describe_intent/1 returns human-readable intent descriptions [L#108]
  * test describe_intent/1 returns human-readable intent descriptions (0.1ms) [L#108]
  * test detect/2 detects documentation patterns without LLM calls [L#29]
  * test detect/2 detects documentation patterns without LLM calls (0.5ms) [L#29]

OllamaStreamTest [test/ollama_stream_test.exs]
  * test streams chunks from Ollama API [L#52]
  * test streams chunks from Ollama API (55.4ms) [L#52]

  1) test streams chunks from Ollama API (OllamaStreamTest)
     apps/starweave_llm/test/ollama_stream_test.exs:52
     Assertion with == failed
     code:  assert length(chunks) == 2
     left:  0
     right: 2
     stacktrace:
       test/ollama_stream_test.exs:72: (test)

     The following output was logged:
     09:21:34.911 [warning] Unexpected chunk format: "data: {\"response\":\"Chunk 1\",\"done\":false}"
     09:21:34.912 [warning] Unexpected chunk format: "data: {\"response\":\"Chunk 2\",\"done\":false}"
     09:21:34.912 [warning] Unexpected chunk format: "data: {\"done\":true}"
     

StreamingTest [test/streaming_test.exs]
  * test streaming test [L#13]
=== Starting to process stream ===

=== Collected chunks ===
All collected chunks: []

  * test streaming test (63.8ms) [L#13]

  2) test streaming test (StreamingTest)
     apps/starweave_llm/test/streaming_test.exs:13
     Assertion with == failed
     code:  assert length(chunks) == 2
     left:  0
     right: 2
     stacktrace:
       test/streaming_test.exs:69: (test)

     The following output was logged:
     09:21:34.975 [warning] Unexpected chunk format: "data: {\"response\":\"Chunk 1\",\"done\":false}"
     09:21:34.975 [warning] Unexpected chunk format: "data: {\"response\":\"Chunk 2\",\"done\":false}"
     09:21:34.975 [warning] Unexpected chunk format: "data: {\"done\":true}"
     

StarweaveLlm.SelfKnowledge.VectorSearchTest [test/starweave_llm/self_knowledge/vector_search_test.exs]
  * test finds similar entries using vector search [L#75]
  * test finds similar entries using vector search (0.7ms) [L#75]
  * test returns empty list when no matches found [L#134]
  * test returns empty list when no matches found (0.4ms) [L#134]
  * test respects max_results parameter [L#91]
  * test respects max_results parameter (0.4ms) [L#91]

StarweaveLlm.LLM.OllamaIntegrationTest [test/starweave_llm/llm/ollama_integration_test.exs]
  * test queries knowledge base with Ollama integration [L#92]
  * test queries knowledge base with Ollama integration (0.1ms) [L#92]

  3) test queries knowledge base with Ollama integration (StarweaveLlm.LLM.OllamaIntegrationTest)
     apps/starweave_llm/test/starweave_llm/llm/ollama_integration_test.exs:92
     ** (FunctionClauseError) no function clause matching in StarweaveLlm.LLM.OllamaIntegrationTest."test queries knowledge base with Ollama integration"/1

     The following arguments were given to StarweaveLlm.LLM.OllamaIntegrationTest."test queries knowledge base with Ollama integration"/1:

         # 1
         %{async: false, line: 92, module: StarweaveLlm.LLM.OllamaIntegrationTest, registered: %{}, file: "/home/isdood/STARWEAVE/apps/starweave_llm/test/starweave_llm/llm/ollama_integration_test.exs", test: :"test queries knowledge base with Ollama integration", test_type: :test, test_pid: #PID<0.1771.0>, describe_line: nil, describe: nil, integration: true, ollama: true}

     code: test "queries knowledge base with Ollama integration", %{query_service: query_service} do
     stacktrace:
       test/starweave_llm/llm/ollama_integration_test.exs:92: (test)

  * test handles queries with no relevant results [L#120]
  * test handles queries with no relevant results (1.1ms) [L#120]

  4) test handles queries with no relevant results (StarweaveLlm.LLM.OllamaIntegrationTest)
     apps/starweave_llm/test/starweave_llm/llm/ollama_integration_test.exs:120
     ** (FunctionClauseError) no function clause matching in StarweaveLlm.LLM.OllamaIntegrationTest."test handles queries with no relevant results"/1

     The following arguments were given to StarweaveLlm.LLM.OllamaIntegrationTest."test handles queries with no relevant results"/1:

         # 1
         %{async: false, line: 120, module: StarweaveLlm.LLM.OllamaIntegrationTest, registered: %{}, file: "/home/isdood/STARWEAVE/apps/starweave_llm/test/starweave_llm/llm/ollama_integration_test.exs", test: :"test handles queries with no relevant results", test_type: :test, test_pid: #PID<0.1779.0>, describe_line: nil, describe: nil, integration: true, ollama: true}

     code: test "handles queries with no relevant results", %{query_service: query_service} do
     stacktrace:
       test/starweave_llm/llm/ollama_integration_test.exs:120: (test)


StarweaveLlm.LLM.OllamaClientTest [test/starweave_llm/llm/ollama_client_test.exs]
  * test stream_complete/2 returns a stream of responses [L#90]
  * test stream_complete/2 returns a stream of responses (0.5ms) [L#90]
  * test complete/2 sends a request to the Ollama API and returns the response [L#24]
  * test complete/2 sends a request to the Ollama API and returns the response (2.5ms) [L#24]
  * test complete/2 handles network errors [L#64]
  * test complete/2 handles network errors (0.6ms) [L#64]
  * test complete/2 uses custom model when provided [L#70]
  * test complete/2 uses custom model when provided (0.6ms) [L#70]
  * test complete/2 handles API errors [L#50]
  * test complete/2 handles API errors (0.6ms) [L#50]

StarweaveLlmTest [test/starweave_llm_test.exs]
  * doctest StarweaveLlm.hello/0 (1) [L#3]
  * doctest StarweaveLlm.hello/0 (1) (0.1ms) [L#3]
  * test greets the world [L#5]
  * test greets the world (0.1ms) [L#5]

StarweaveLlm.LLM.QueryServiceBM25Test [test/starweave_llm/llm/query_service_bm25_test.exs]
  * test BM25 search integration ranks documents by relevance to query [L#213]
  * test BM25 search integration ranks documents by relevance to query (0.2ms) [L#213]

  5) test BM25 search integration ranks documents by relevance to query (StarweaveLlm.LLM.QueryServiceBM25Test)
     apps/starweave_llm/test/starweave_llm/llm/query_service_bm25_test.exs:213
     Assertion with > failed, both sides are exactly equal
     code: assert length(results) > 0
     left: 0
     stacktrace:
       test/starweave_llm/llm/query_service_bm25_test.exs:230: (test)

  * test BM25 search integration handles empty results gracefully [L#267]
  * test BM25 search integration handles empty results gracefully (0.2ms) [L#267]
  * test hybrid search with BM25 combines BM25 and semantic results [L#293]
  * test hybrid search with BM25 combines BM25 and semantic results (0.2ms) [L#293]

  6) test hybrid search with BM25 combines BM25 and semantic results (StarweaveLlm.LLM.QueryServiceBM25Test)
     apps/starweave_llm/test/starweave_llm/llm/query_service_bm25_test.exs:293
     Assertion with > failed, both sides are exactly equal
     code: assert length(results) > 0
     left: 0
     stacktrace:
       test/starweave_llm/llm/query_service_bm25_test.exs:311: (test)

  * test BM25 search integration falls back to simple search when BM25 is disabled [L#242]
  * test BM25 search integration falls back to simple search when BM25 is disabled (0.2ms) [L#242]

  7) test BM25 search integration falls back to simple search when BM25 is disabled (StarweaveLlm.LLM.QueryServiceBM25Test)
     apps/starweave_llm/test/starweave_llm/llm/query_service_bm25_test.exs:242
     Assertion with > failed, both sides are exactly equal
     code: assert length(results) > 0
     left: 0
     stacktrace:
       test/starweave_llm/llm/query_service_bm25_test.exs:259: (test)


StarweaveLlm.LLM.QueryServiceTest [test/starweave_llm/llm/query_service_test.exs]
  * test hybrid search functionality combines semantic and keyword search results [L#178]
  * test hybrid search functionality combines semantic and keyword search results (0.2ms) [L#178]
  * test query/3 handles empty search results gracefully [L#295]
  * test query/3 handles empty search results gracefully (0.1ms) [L#295]
  * test query/3 with conversation history includes conversation history in the prompt [L#340]
  * test query/3 with conversation history includes conversation history in the prompt (0.2ms) [L#340]
  * test query/3 returns relevant code snippets for a natural language query [L#248]
  * test query/3 returns relevant code snippets for a natural language query (0.1ms) [L#248]

Finished in 0.2 seconds (0.1s async, 0.1s sync)
1 doctest, 80 tests, 7 failures
==> starweave_web
    warning: redefining module StarweaveWeb.ConnCase (current version loaded from /home/isdood/STARWEAVE/_build/test/lib/starweave_web/ebin/Elixir.StarweaveWeb.ConnCase.beam)
    â”‚
  1 â”‚ defmodule StarweaveWeb.ConnCase do
    â”‚ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    â”‚
    â””â”€ test/support/conn_case.ex:1: StarweaveWeb.ConnCase (module)

    warning: redefining module StarweaveWeb.GRPCCase (current version loaded from /home/isdood/STARWEAVE/_build/test/lib/starweave_web/ebin/Elixir.StarweaveWeb.GRPCCase.beam)
    â”‚
  1 â”‚ defmodule StarweaveWeb.GRPCCase do
    â”‚ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    â”‚
    â””â”€ test/support/grpc_case.ex:1: StarweaveWeb.GRPCCase (module)

Running ExUnit with seed: 979793, max_cases: 1


StarweaveWeb.ErrorJSONTest [test/starweave_web/controllers/error_json_test.exs]
  * test renders 404 [L#4]
  * test renders 404 (12.0ms) [L#4]
  * test renders 500 [L#8]
  * test renders 500 (0.7ms) [L#8]

StarweaveWeb.ErrorHTMLTest [test/starweave_web/controllers/error_html_test.exs]
  * test renders 404.html [L#7]
  * test renders 404.html (2.1ms) [L#7]
  * test renders 500.html [L#11]
  * test renders 500.html (1.8ms) [L#11]

StarweaveWeb.GRPCClientTest [test/starweave_web/grpc/grpc_client_test.exs]
  * test analyze_pattern/2 successfully analyzes a pattern [L#35]
  * test analyze_pattern/2 successfully analyzes a pattern (0.6ms) [L#35]
  * test create_channel/2 creates a channel with default options [L#65]
  * test create_channel/2 creates a channel with default options (0.5ms) [L#65]
  * test close_channel/1 closes a channel successfully [L#80]
  * test close_channel/1 closes a channel successfully (0.6ms) [L#80]
  * test analyze_pattern/2 handles gRPC errors [L#50]
  * test analyze_pattern/2 handles gRPC errors (0.5ms) [L#50]
    warning: unused alias PatternResponse
    â”‚
  5 â”‚   alias Starweave.{PatternResponse, StatusResponse, PatternRequest, Pattern}
    â”‚   ~
    â”‚
    â””â”€ test/grpc/pattern_client_unit_test.exs:5:3

    warning: unused alias StatusResponse
    â”‚
  5 â”‚   alias Starweave.{PatternResponse, StatusResponse, PatternRequest, Pattern}
    â”‚   ~
    â”‚
    â””â”€ test/grpc/pattern_client_unit_test.exs:5:3


StarweaveWeb.PageControllerTest [test/starweave_web/controllers/page_controller_test.exs]
  * test GET / [L#5]
  * test GET / (73.3ms) [L#5]

StarweaveWeb.GRPC.PatternClientIntegrationTest [test/grpc/integration/pattern_client_integration_test.exs]
  * test can connect to gRPC server [L#17]
  * test can connect to gRPC server (26.6ms) [L#17]
  * test can stream patterns [L#27]
  * test can stream patterns (3.2ms) [L#27]
  * test can recognize a pattern [L#22]
  * test can recognize a pattern (0.7ms) [L#22]

StarweaveWeb.GRPC.PatternClientUnitTest [test/grpc/pattern_client_unit_test.exs]
  * test Error handling format_grpc_error/1 handles non-RPC errors [L#45]
  * test Error handling format_grpc_error/1 handles non-RPC errors (0.1ms) [L#45]
  * test PatternClient helper functions build_pattern_request/1 creates a valid PatternRequest [L#15]
  * test PatternClient helper functions build_pattern_request/1 creates a valid PatternRequest (0.1ms) [L#15]
  * test PatternClient helper functions build_status_request/1 creates a valid StatusRequest [L#32]
  * test PatternClient helper functions build_status_request/1 creates a valid StatusRequest (0.2ms) [L#32]
  * test Error handling format_grpc_error/1 formats RPC errors [L#40]
  * test Error handling format_grpc_error/1 formats RPC errors (0.2ms) [L#40]
  * test PatternClient helper functions build_pattern_request/1 handles missing metadata [L#24]
  * test PatternClient helper functions build_pattern_request/1 handles missing metadata (0.1ms) [L#24]

StarweaveWeb.GRPC.PatternClientTest [test/starweave_web/grpc/pattern_client_test.exs]
  * test handles server unavailability gracefully [L#97]
  * test handles server unavailability gracefully (skipped) [L#97]
  * test verifies server status response format [L#80]
  * test verifies server status response format (0.5ms) [L#80]
  * test recognize_pattern/2 successfully recognizes a pattern [L#21]
  * test recognize_pattern/2 successfully recognizes a pattern (0.4ms) [L#21]
  * test get_status/1 returns detailed status when requested [L#39]
  * test get_status/1 returns detailed status when requested (0.4ms) [L#39]
  * test stream_patterns/2 stream_patterns/2 processes patterns and returns responses [L#48]
  * test stream_patterns/2 stream_patterns/2 processes patterns and returns responses (1.4ms) [L#48]
  * test get_status/1 returns server status [L#31]
  * test get_status/1 returns server status (0.6ms) [L#31]

Finished in 0.1 seconds (0.05s async, 0.1s sync)
23 tests, 0 failures, 1 skipped
[os_mon] memory supervisor port (memsup): Erlang has closed
[os_mon] cpu supervisor port (cpu_sup): Erlang has closed
